<script src='https://raw.github.com/Zirak/SEN/master/tokens.js'></script>
<script src='https://raw.github.com/Zirak/SEN/master/parser.js'></script>
<script src='https://raw.github.com/Zirak/SEN/master/encoder.js'></script>

<form name='container'>
	<textarea name='sen' cols=80 rows=10>sen</textarea>

	<br/>
	<input type='button' name='tojs' value='Sen to JSON' />
	<input type='button' name='tosen' value='JSON to Sen' />
	<br/>

	<textarea name='js' cols=80 rows=10>js</textarea>
</form>
<script>
	var cont = document.container,
		sen = cont.sen,
		js = cont.js;

	cont.tojs.onclick = function () {
		try {
			js.value = JSON.stringify(SEN.parse(sen.value), null, 4);
		}
		catch (e) {
			js.value = e.toString();
			throw e;
		}
	};
	cont.tosen.onclick = function () {
		sen.value = SEN.stringify(JSON.parse(js.value), null, true);
	};

	//small sanity checks, to see if I introduced any obvious errors
	SEN.parse('a');
	SEN.parse('(a)');
	SEN.parse('(:a b)');

	SEN.stringify(0);
	SEN.stringify([0]);
	SEN.stringify({a:0});
</script>
